{"version":3,"sources":["Square.js","Game.js","StopwatchDisplay.js","Stopwatch.js","Board.js","utils.js","Settings.js","Menu.js","swipeDetect.js","serviceWorker.js","index.js"],"names":["Square","initialArr","id","className","StopwatchDisplay","this","props","formatTime","currentTimeMin","currentTimeSec","currentTimeMs","Component","Stopwatch","val","value","toString","length","start","state","running","setState","watch","setInterval","pace","stop","clearInterval","reset","Board","stopwatch","React","createRef","startCurrentGame","move","started","current","$","document","off","on","e","a","which","n","arr","text","onClickHandler","pause","resume","style","gridTemplateColumns","repeat","tab","i","j","push","key","onClick","bind","ref","DIR","DEFAULTS","constructSortedArray","Array","fill","map","_","newArr","splice","constructCorrectArray","Math","floor","random","temp","shuffleArray","x","y","inversions","y2","toCheck","isEvenPermutation","getFromStorageOrDefault","localStorage","getItem","setMainColor","mainColor","setItem","css","Settings","color","changeBoardSize","num","Number","target","onChange","handleColorChange","onChangeComplete","hex","width","type","handleBoarSizeChange","placeholder","Menu","closest","next","addClass","removeClass","content","name","classes","open","onTouchEndCapture","close","Game","emptyCell","moves","board","el","callback","swipedir","startX","startY","distX","distY","startTime","touchsurface","handleswipe","addEventListener","preventDefault","touchobj","changedTouches","pageX","pageY","Date","getTime","abs","swipeDetect","resetGame","Event","slice","tempArr","reduce","prev","cur","concat","sorted","sort","b","JSON","stringify","isSorted","createNewGame","direction","step","Error","nx","ny","undefined","keyFrame","top","left","animate","finished","checkWin","isLocalhost","Boolean","window","location","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","controller","console","log","onUpdate","onSuccess","catch","error","ReactDOM","render","getElementById","URL","process","href","origin","fetch","headers","response","contentType","get","status","indexOf","ready","unregister","reload","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.1d9c0038.chunk.js","sourcesContent":["import React from 'react';\n\nfunction Square({ id }) {\n    return <div className=\"board-cell\" id={id}>{id}</div>;\n}\nexport default Square;","import $ from 'jquery';\nimport React, { Component } from 'react';\nimport Board from './Board';\nimport { swipeDetect } from './swipeDetect';\nimport { DIR, constructCorrectArray, constructSortedArray, getFromStorageOrDefault, isSorted, copy } from './utils';\nimport { FaUndo } from 'react-icons/fa';\nimport Menu from './Menu';\n\nconst duration = 100;\nvar initialArr;\n\nclass Game extends Component {\n  constructor(props) {\n    super(props);\n\n    const n = getFromStorageOrDefault('board-size');\n    initialArr = constructCorrectArray(n);\n    this.state = {\n      n: n,\n      arr: constructSortedArray(n),\n      emptyCell: { x: 0, y: 0 },\n      moves: 0\n    }\n    this.board = React.createRef();\n  }\n\n  componentDidMount() {\n    swipeDetect($('.board')[0], this.move.bind(this));\n  }\n\n  /**\n   * Resets the timer, move count, empty cell location.\n   * @param {Event} e \n   */\n  resetGame(e) {\n    e.preventDefault();\n    $(document).off(\"keydown\");\n    this.setState({\n      arr: constructSortedArray(this.state.n),\n      emptyCell: { x: 0, y: 0 },\n      moves: 0\n    }, () => this.board.current.resetGame());\n  }\n\n  /**\n   * Constructs a new game with a new array of size n\n   * @param {Number} n size of a new board\n   */\n  createNewGame(n) {\n    initialArr = constructCorrectArray(n);\n    this.setState({\n      n: n,\n      arr: constructSortedArray(n)\n    }, () => this.resetGame(new Event(\"\")));\n  }\n\n  /**\n   * Starting current game. The game starts always from initialArr\n   */\n  startCurrentGame() {\n    $(document).on(\"keydown\", async (e) => {\n      await this.move(e.which);\n    });\n    this.setState({\n      arr: copy(initialArr),\n    });\n  }\n\n  /**\n   * Check if the puzzle is solved.\n   * @param {Array<Number>} arr \n   */\n  checkWin(arr) {\n    if (isSorted(arr)) { // is solved\n      this.board.current.pause();\n      $(document).off(\"keydown\");\n\n      // TODO: display win message\n\n      this.createNewGame(this.state.n);\n    } else {\n      $(document).on(\"keydown\", async (e) => {\n        await this.move(e.which);\n      });\n    }\n  }\n\n  async move(direction) {\n    $(document).off(\"keydown\");\n    var { arr, emptyCell: { x, y } } = this.state;\n    var step = { x: 0, y: 0 };\n    var nx, ny, id;\n\n    try {\n      switch (direction) {\n        case DIR.UP:\n          step.x = 1;\n          break;\n        case DIR.RIGHT:\n          step.y = -1;\n          break;\n        case DIR.DOWN:\n          step.x = -1;\n          break;\n        case DIR.LEFT:\n          step.y = 1;\n          break;\n        default:\n          throw new Error();\n      }\n\n      nx = x + step.x;\n      ny = y + step.y;\n      id = arr[nx][ny];\n      if (id === undefined) throw new Error();\n\n    } catch (err) {\n      $(document).on(\"keydown\", async (e) => {\n        await this.move(e.which);\n      });\n      return;\n    }\n\n    arr[nx][ny] = arr[x][y];\n    arr[x][y] = id;\n\n    const keyFrame = [{\n      top: step.x * 100 + \"%\",\n      left: step.y * 100 + \"%\"\n    },\n    { top: \"0%\", left: \"0%\" }];\n\n    this.setState({\n      emptyCell: { x: nx, y: ny },\n      arr: arr,\n      moves: this.state.moves + 1\n    });\n\n    if (keyFrame) await $(`#${id}`)[0].animate(keyFrame, duration).finished;\n\n    this.checkWin(arr);\n  }\n\n  render() {\n    const { moves, arr, n } = this.state;\n    return (\n      <>\n        <header>\n          <div className=\"reset icon-container\" onClick={this.resetGame.bind(this)} onTouchEndCapture={this.resetGame.bind(this)}>\n            <FaUndo />\n            <span className=\"desktop\">Reset game</span>\n          </div>\n          <div className=\"moves\">Moves: {moves}</div>\n          <Menu name=\"Menu\" classes=\"menu-button\" changeBoardSize={this.createNewGame.bind(this)} />\n        </header>\n        <Board ref={this.board} n={n} arr={arr}\n          startCurrentGame={this.startCurrentGame.bind(this)}\n          move={this.move.bind(this)} />\n      </>\n    )\n  }\n}\n\nexport default Game;","import React, { Component } from 'react';\n\nclass StopwatchDisplay extends Component {\n  render() {\n    return (\n      <span className=\"stopwatch_display\">\n        {this.props.formatTime(this.props.currentTimeMin)}:\n        {this.props.formatTime(this.props.currentTimeSec)}:\n        {this.props.formatTime(this.props.currentTimeMs, 'ms')}\n      </span>\n    );\n  }\n}\n\nexport default StopwatchDisplay;","import React, { Component } from 'react';\nimport StopwatchDisplay from './StopwatchDisplay';\n\nclass Stopwatch extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      running: false,\n      currentTimeMs: 0,\n      currentTimeSec: 0,\n      currentTimeMin: 0,\n    };\n  }\n\n  formatTime = (val, ...rest) => {\n    let value = val.toString();\n    if (value.length < 2) {\n      value = '0' + value;\n    }\n    if (rest[0] === 'ms' && value.length < 3) {\n      value = '0' + value;\n    }\n    return value;\n  };\n\n  start = () => {\n    if (!this.state.running) {\n      this.setState({ running: true });\n      this.watch = setInterval(() => this.pace(), 10);\n    }\n  };\n\n  stop = () => {\n    this.setState({ running: false });\n    clearInterval(this.watch);\n  };\n\n  pace = () => {\n    this.setState({ currentTimeMs: this.state.currentTimeMs + 10 });\n    if (this.state.currentTimeMs >= 1000) {\n      this.setState({ currentTimeSec: this.state.currentTimeSec + 1 });\n      this.setState({ currentTimeMs: 0 });\n    }\n    if (this.state.currentTimeSec >= 60) {\n      this.setState({ currentTimeMin: this.state.currentTimeMin + 1 });\n      this.setState({ currentTimeSec: 0 });\n    }\n  };\n\n  reset = () => {\n    this.setState({\n      currentTimeMs: 0,\n      currentTimeSec: 0,\n      currentTimeMin: 0,\n    });\n  };\n\n  render() {\n    return (\n      <StopwatchDisplay\n        {...this.state}\n        formatTime={this.formatTime}\n      />\n    );\n  }\n}\n\nexport default Stopwatch;","import React, { Component } from 'react';\nimport $ from 'jquery';\nimport Square from './Square';\nimport { FaPlay, FaStop, FaStopwatch } from 'react-icons/fa'\nimport Stopwatch from './Stopwatch';\n\nclass Board extends Component {\n  constructor(props) {\n    super(props);\n    this.stopwatch = React.createRef();\n    this.startCurrentGame = props.startCurrentGame;\n    this.move = props.move;\n    this.state = {\n      started: false,\n      running: false\n    };\n  }\n\n  start() {\n    this.startCurrentGame();\n    this.stopwatch.current.start();\n    this.setState({\n      started: true,\n      running: true\n    });\n  }\n\n  pause() {\n    $(document).off(\"keydown\");\n    this.stopwatch.current.stop();\n    this.setState({\n      running: false\n    });\n  }\n\n  resume() {\n    $(document).on(\"keydown\", async (e) => {\n      await this.move(e.which);\n    });\n    this.stopwatch.current.start();\n    this.setState({\n      running: true\n    });\n  }\n\n  resetGame() {\n    this.stopwatch.current.stop();\n    this.stopwatch.current.reset();\n    this.setState({\n      started: false,\n      running: false\n    });\n  }\n\n  render() {\n    const { n, arr } = this.props;\n    const { started, running } = this.state;\n    const text = started ? (running ? \"Pause\" : \"Resume\") : \"Start\";\n    const onClickHandler = started ? (running ? this.pause : this.resume) : this.start;\n\n    const style = { gridTemplateColumns: (\"1fr \".repeat(n)) };\n    var tab = [];\n    for (var i = 0; i < n; i++) {\n      for (var j = 0; j < n; j++) {\n        tab.push(<Square key={arr[i][j]} id={arr[i][j]} />);\n      }\n    }\n    return (\n      <>\n        <div className=\"game-control-bar\">\n          <div className=\"icon-container\" onClick={onClickHandler.bind(this)}>\n            {running ? <FaStop /> : <FaPlay />}\n            <span>{text} Game</span>\n          </div>\n          <div>\n            <div className=\"icon-container\">\n              <FaStopwatch />\n              <Stopwatch ref={this.stopwatch} />\n            </div>\n          </div>\n        </div>\n        <main className=\"board\" style={style}> {tab} </main>\n      </>\n    );\n  }\n}\n\nexport default Board;","import $ from 'jquery';\n\n/**\n * Array of direction arrow key values.\n */\nexport const DIR = {\n  LEFT: 37,\n  UP: 38,\n  RIGHT: 39,\n  DOWN: 40,\n}\n\nconst DEFAULTS = {\n  \"main-color\": \"#61DAFB\",\n  \"board-size\": 4\n}\n\n/**\n * Shuffle an array randomly in place.\n * @param {Array<Array<Number>>} arr \n */\nconst shuffleArray = (arr) => {\n  for (var i = arr.length - 1; i > 0; i--) {\n    var j = Math.floor(Math.random() * (i + 1));\n    var temp = arr[i];\n    arr[i] = arr[j];\n    arr[j] = temp;\n  }\n}\n\n/**\n * Check if the permutation of an array is even.\n * @param {Array<Array<Number>>} arr \n */\nconst isEvenPermutation = (arr) => {\n  var inversions = 0;\n  const n = arr.length;\n  for (var i = 0; i < n * n; i++) {\n    const [x, y] = [Math.floor(i / n), i % n];\n    const current = arr[x][y];\n    if (current === 0) {\n      inversions += x;\n      continue;\n    }\n    for (var j = i + 1; j < n * n; j++) {\n      const [x2, y2] = [Math.floor(j / n), j % n];\n      const toCheck = arr[x2][y2];\n      if (toCheck === 0) continue;\n      if (current > toCheck) inversions++;\n    }\n  }\n  return (inversions % 2) === 0;\n}\n\n/**\n * Returns a deep copy of a two-dimensional array\n * @param {Array<Array<Number>>} arr \n */\nexport const copy = (arr) => {\n  return arr.map(x => x.slice());\n}\n\n/**\n * Constructs a two-dimensional array with dimensions n x n which is sorted and contains numbers from 0 to n^2-1.\n * @param {Number} n \n */\nexport const constructSortedArray = (n) => {\n  var arr = new Array(n * n).fill(0).map((_, i) => i);\n  const newArr = [];\n  while (arr.length) newArr.push(arr.splice(0, n));\n\n  return newArr;\n}\n\n/**\n * Constructs a two-dimensional array with dimensions n x n which is solvable for the puzzle.\n * @param {Number} n \n */\nexport const constructCorrectArray = (n) => {\n  var arr = new Array(n * n).fill(0).map((_, i) => i);\n  shuffleArray(arr);\n  const newArr = [];\n  while (arr.length) newArr.push(arr.splice(0, n));\n  arr = newArr;\n  var x, y;\n  for (var i = 0; i < n; i++) {\n    for (var j = 0; j < n; j++) {\n      if (arr[i][j] === 0) {\n        x = i;\n        y = j;\n      }\n    }\n  }\n  var temp = arr[0][0];\n  arr[0][0] = arr[x][y];\n  arr[x][y] = temp;\n  if (!isEvenPermutation(arr)) {\n    temp = arr[0][n - 1];\n    arr[0][n - 1] = arr[1][0];\n    arr[1][0] = temp;\n  }\n\n  return arr;\n}\n\n/**\n * Checks that the numbers in a two-dimensional array are sorted in ascending order\n * @param {Array<Array<Number>>} arr \n */\nexport const isSorted = (arr) => {\n  var tempArr = [...arr];\n  tempArr = tempArr.reduce((prev, cur) => prev.concat(cur), []);\n  var sorted = [...tempArr].sort((a, b) => a - b);\n\n  return JSON.stringify(sorted) === JSON.stringify(tempArr);\n}\n\n/**\n * Gets a value at the key from the local storage. If the value is not present then returns default.\n * @param {String} key \n */\nexport const getFromStorageOrDefault = (key) => {\n  var value = localStorage.getItem(key);\n  if (value === null || !value) {\n    value = DEFAULTS[key];\n  }\n  return value;\n}\n\n/**\n * Changes the main color to specified.\n * @param {String} mainColor hex value of a color to be set\n */\nexport const setMainColor = (mainColor) => {\n  localStorage.setItem(\"main-color\", mainColor);\n  $(\":root\").css(\"--main-color\", mainColor);\n}","import React, { Component } from 'react';\nimport { SliderPicker } from 'react-color';\nimport { setMainColor } from './utils';\nimport $ from 'jquery';\n\nclass Settings extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      color: localStorage.getItem('main-color')\n    }\n    this.changeBoardSize = props.changeBoardSize;\n  }\n\n  handleColorChange(color) {\n    this.setState({ color: color });\n  }\n\n  handleBoarSizeChange(e) {\n    const num = Math.floor(Number($(e.target).val()));\n    if (num && num > 1) {\n      localStorage.setItem('board-size', num);\n      this.changeBoardSize(num);\n    }\n  }\n\n  render() {\n    return (\n      <>\n        <div>Change main color:</div>\n        <SliderPicker\n          color={this.state.color}\n          onChange={this.handleColorChange.bind(this)}\n          onChangeComplete={(x => setMainColor(x.hex))}\n          width=\"unset\"\n        />\n        <div>Change default board size:</div>\n        <input id=\"board-size-input\" type=\"number\" onChange={this.handleBoarSizeChange.bind(this)} placeholder={localStorage.getItem('board-size')} />\n      </>\n    );\n  }\n}\n\nexport default Settings;","import React, { Component } from 'react';\nimport { FaBars, FaTimes } from 'react-icons/fa';\nimport $ from 'jquery';\nimport './Menu.scss';\nimport Settings from './Settings';\n\nclass Menu extends Component {\n  constructor(props) {\n    super(props);\n\n    this.changeBoardSize = props.changeBoardSize;\n  }\n\n  open(e) {\n    const menu = $(e.target).closest('.icon-container').next('.menu');\n    menu.addClass(\"open\");\n  }\n\n  close(e) {\n    const menu = $(e.target).closest('.menu');\n    menu.removeClass(\"open\");\n  }\n\n  render() {\n    var { name, classes } = this.props;\n    var content;\n\n    if (name === \"Menu\") {\n      name = <><FaBars /><span className=\"desktop\">{name}</span></>;\n      content =\n        <>\n          <Menu name=\"Start new game\" />\n          <Menu name=\"Profile\" />\n          <Menu name=\"Settings\" changeBoardSize={this.changeBoardSize} />\n        </>;\n    }\n    else if (name === \"Start new game\") {\n      content =\n        <>\n          <div>Game 1</div>\n          <div>Game 2</div>\n          <div>Game 3</div>\n        </>;\n    }\n    else if (name === \"Settings\") {\n      content = <Settings changeBoardSize={this.changeBoardSize} />;\n    }\n\n    return (\n      <>\n        <div className={`icon-container ${classes}`} onClick={this.open} onTouchEndCapture={this.open}>\n          {name}\n        </div>\n\n        <div className=\"menu\">\n          <div className=\"icon-container\" onClick={this.close} onTouchEndCapture={this.close}><FaTimes /> Close</div>\n          <div className=\"menu-list\">\n            {content}\n          </div>\n        </div>\n      </>\n    );\n  }\n}\n\nexport default Menu;","import { DIR } from \"./utils\"\n\nexport const swipeDetect = (el, callback) => {\n    var touchsurface = el,\n        swipedir,\n        startX,\n        startY,\n        distX,\n        distY,\n        threshold = 50, //required min distance traveled to be considered swipe\n        restraint = 100, // maximum distance allowed at the same time in perpendicular direction\n        allowedTime = 3000, // maximum time allowed to travel that distance\n        elapsedTime,\n        startTime,\n        handleswipe = callback || function (swipedir) { };\n\n    touchsurface.addEventListener('touchstart', function (e) {\n        e.preventDefault();\n        var touchobj = e.changedTouches[0];\n        swipedir = 'none';\n        distX = 0;\n        distY = 0;\n        startX = touchobj.pageX;\n        startY = touchobj.pageY;\n        startTime = new Date().getTime(); // record time when finger first makes contact with surface\n        e.preventDefault();\n    }, false);\n\n    touchsurface.addEventListener('touchmove', function (e) {\n        e.preventDefault() // prevent scrolling when inside DIV\n    }, false);\n\n    touchsurface.addEventListener('touchend', function (e) {\n        e.preventDefault();\n        var touchobj = e.changedTouches[0]\n        distX = touchobj.pageX - startX // get horizontal dist traveled by finger while in contact with surface\n        distY = touchobj.pageY - startY // get vertical dist traveled by finger while in contact with surface\n        elapsedTime = new Date().getTime() - startTime // get time elapsed\n        if (elapsedTime <= allowedTime) { // first condition for awipe met\n            if (Math.abs(distX) >= threshold && Math.abs(distY) <= restraint) { // 2nd condition for horizontal swipe met\n                swipedir = (distX < 0) ? DIR.LEFT : DIR.RIGHT // if dist traveled is negative, it indicates left swipe\n            }\n            else if (Math.abs(distY) >= threshold && Math.abs(distX) <= restraint) { // 2nd condition for vertical swipe met\n                swipedir = (distY < 0) ? DIR.UP : DIR.DOWN // if dist traveled is negative, it indicates up swipe\n            }\n        }\n        handleswipe(swipedir)\n        e.preventDefault()\n    }, false);\n};","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n      \n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport $ from 'jquery';\nimport './index.scss';\nimport Game from './Game';\nimport * as serviceWorker from './serviceWorker';\nimport { getFromStorageOrDefault, setMainColor } from './utils';\n\nwindow.$ = $;\n\nvar mainColor = getFromStorageOrDefault('main-color');\n\nsetMainColor(mainColor);\n\nReactDOM.render(\n    <Game />,\n    document.getElementById('root')\n);\n\n$(\"#0\").css({\"visibility\": \"hidden\", \"z-index\": \"-1\"});\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.register();\n"],"sourceRoot":""}